!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).selectivity=t()}}(function(){return function t(e,i,n){function r(o,l){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var a=i[o]={exports:{}};e[o][0].call(a.exports,function(t){var i=e[o][1][t];return r(i||t)},a,a.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){var n=t(36).Symbol;e.exports=n},{36:36}],2:[function(t,e,i){e.exports=function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}},{}],3:[function(t,e,i){var n=t(15),r=t(46),s=t(47),o=t(49),l=t(27),u=t(56),c=Object.prototype.hasOwnProperty;e.exports=function(t,e){var i=s(t),a=!i&&r(t),h=!i&&!a&&o(t),d=!i&&!a&&!h&&u(t),f=i||a||h||d,p=f?n(t.length,String):[],v=p.length;for(var g in t)!e&&!c.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,v))||p.push(g);return p}},{15:15,27:27,46:46,47:47,49:49,56:56}],4:[function(t,e,i){e.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}},{}],5:[function(t,e,i){var n=t(6),r=t(43),s=Object.prototype.hasOwnProperty;e.exports=function(t,e,i){var o=t[e];s.call(t,e)&&r(o,i)&&(void 0!==i||e in t)||n(t,e,i)}},{43:43,6:6}],6:[function(t,e,i){var n=t(21);e.exports=function(t,e,i){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}},{21:21}],7:[function(t,e,i){var n=t(1),r=t(25),s=t(33),o="[object Null]",l="[object Undefined]",u=n?n.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?l:o:u&&u in Object(t)?r(t):s(t)}},{1:1,25:25,33:33}],8:[function(t,e,i){var n=t(7),r=t(53),s="[object Arguments]";e.exports=function(t){return r(t)&&n(t)==s}},{53:53,7:7}],9:[function(t,e,i){var n=t(50),r=t(29),s=t(52),o=t(39),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,a=Object.prototype,h=c.toString,d=a.hasOwnProperty,f=RegExp("^"+h.call(d).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!s(t)||r(t))&&(n(t)?f:u).test(o(t))}},{29:29,39:39,50:50,52:52}],10:[function(t,e,i){var n=t(7),r=t(51),s=t(53),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(t){return s(t)&&r(t.length)&&!!o[n(t)]}},{51:51,53:53,7:7}],11:[function(t,e,i){var n=t(30),r=t(31),s=Object.prototype.hasOwnProperty;e.exports=function(t){if(!n(t))return r(t);var e=[];for(var i in Object(t))s.call(t,i)&&"constructor"!=i&&e.push(i);return e}},{30:30,31:31}],12:[function(t,e,i){e.exports=function(t){return function(e){return null==t?void 0:t[e]}}},{}],13:[function(t,e,i){var n=t(45),r=t(35),s=t(37);e.exports=function(t,e){return s(r(t,e,n),t+"")}},{35:35,37:37,45:45}],14:[function(t,e,i){var n=t(41),r=t(21),s=t(45),o=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:s;e.exports=o},{21:21,41:41,45:45}],15:[function(t,e,i){e.exports=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}},{}],16:[function(t,e,i){function n(t){if("string"==typeof t)return t;if(o(t))return s(t,n)+"";if(l(t))return a?a.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var r=t(1),s=t(4),o=t(47),l=t(55),u=1/0,c=r?r.prototype:void 0,a=c?c.toString:void 0;e.exports=n},{1:1,4:4,47:47,55:55}],17:[function(t,e,i){e.exports=function(t){return function(e){return t(e)}}},{}],18:[function(t,e,i){var n=t(5),r=t(6);e.exports=function(t,e,i,s){var o=!i;i||(i={});for(var l=-1,u=e.length;++l<u;){var c=e[l],a=s?s(i[c],t[c],c,i,t):void 0;void 0===a&&(a=t[c]),o?r(i,c,a):n(i,c,a)}return i}},{5:5,6:6}],19:[function(t,e,i){var n=t(36)["__core-js_shared__"];e.exports=n},{36:36}],20:[function(t,e,i){var n=t(13),r=t(28);e.exports=function(t){return n(function(e,i){var n=-1,s=i.length,o=s>1?i[s-1]:void 0,l=s>2?i[2]:void 0;for(o=t.length>3&&"function"==typeof o?(s--,o):void 0,l&&r(i[0],i[1],l)&&(o=s<3?void 0:o,s=1),e=Object(e);++n<s;){var u=i[n];u&&t(e,u,n,o)}return e})}},{13:13,28:28}],21:[function(t,e,i){var n=t(24),r=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=r},{24:24}],22:[function(t,e,i){var n=t(12)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},{12:12}],23:[function(t,e,i){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(t,e,i){var n=t(9),r=t(26);e.exports=function(t,e){var i=r(t,e);return n(i)?i:void 0}},{26:26,9:9}],25:[function(t,e,i){var n=t(1),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,l=n?n.toStringTag:void 0;e.exports=function(t){var e=s.call(t,l),i=t[l];try{t[l]=void 0;var n=!0}catch(t){}var r=o.call(t);return n&&(e?t[l]=i:delete t[l]),r}},{1:1}],26:[function(t,e,i){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],27:[function(t,e,i){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}},{}],28:[function(t,e,i){var n=t(43),r=t(48),s=t(27),o=t(52);e.exports=function(t,e,i){if(!o(i))return!1;var l=typeof e;return!!("number"==l?r(i)&&s(e,i.length):"string"==l&&e in i)&&n(i[e],t)}},{27:27,43:43,48:48,52:52}],29:[function(t,e,i){var n=t(19),r=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=function(t){return!!r&&r in t}},{19:19}],30:[function(t,e,i){var n=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},{}],31:[function(t,e,i){var n=t(34)(Object.keys,Object);e.exports=n},{34:34}],32:[function(t,e,i){var n=t(23),r="object"==typeof i&&i&&!i.nodeType&&i,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===r&&n.process,l=function(){try{return o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=l},{23:23}],33:[function(t,e,i){var n=Object.prototype.toString;e.exports=function(t){return n.call(t)}},{}],34:[function(t,e,i){e.exports=function(t,e){return function(i){return t(e(i))}}},{}],35:[function(t,e,i){var n=t(2),r=Math.max;e.exports=function(t,e,i){return e=r(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,l=r(s.length-e,0),u=Array(l);++o<l;)u[o]=s[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=s[o];return c[e]=i(u),n(t,this,c)}}},{2:2}],36:[function(t,e,i){var n=t(23),r="object"==typeof self&&self&&self.Object===Object&&self,s=n||r||Function("return this")();e.exports=s},{23:23}],37:[function(t,e,i){var n=t(14),r=t(38)(n);e.exports=r},{14:14,38:38}],38:[function(t,e,i){var n=800,r=16,s=Date.now;e.exports=function(t){var e=0,i=0;return function(){var o=s(),l=r-(o-i);if(i=o,l>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},{}],39:[function(t,e,i){var n=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],40:[function(t,e,i){var n=t(5),r=t(18),s=t(20),o=t(48),l=t(30),u=t(57),c=Object.prototype.hasOwnProperty,a=s(function(t,e){if(l(e)||o(e))r(e,u(e),t);else for(var i in e)c.call(e,i)&&n(t,i,e[i])});e.exports=a},{18:18,20:20,30:30,48:48,5:5,57:57}],41:[function(t,e,i){e.exports=function(t){return function(){return t}}},{}],42:[function(t,e,i){var n=t(52),r=t(58),s=t(60),o="Expected a function",l=Math.max,u=Math.min;e.exports=function(t,e,i){function c(e){var i=g,n=m;return g=m=void 0,I=e,b=t.apply(n,i)}function a(t){return I=t,_=setTimeout(f,e),x?c(t):b}function h(t){var i=t-I,n=e-(t-w);return O?u(n,y-i):n}function d(t){var i=t-w,n=t-I;return void 0===w||i>=e||i<0||O&&n>=y}function f(){var t=r();if(d(t))return p(t);_=setTimeout(f,h(t))}function p(t){return _=void 0,S&&g?c(t):(g=m=void 0,b)}function v(){var t=r(),i=d(t);if(g=arguments,m=this,w=t,i){if(void 0===_)return a(w);if(O)return _=setTimeout(f,e),c(w)}return void 0===_&&(_=setTimeout(f,e)),b}var g,m,y,b,_,w,I=0,x=!1,O=!1,S=!0;if("function"!=typeof t)throw new TypeError(o);return e=s(e)||0,n(i)&&(x=!!i.leading,y=(O="maxWait"in i)?l(s(i.maxWait)||0,e):y,S="trailing"in i?!!i.trailing:S),v.cancel=function(){void 0!==_&&clearTimeout(_),I=0,g=w=m=_=void 0},v.flush=function(){return void 0===_?b:p(r())},v}},{52:52,58:58,60:60}],43:[function(t,e,i){e.exports=function(t,e){return t===e||t!==t&&e!==e}},{}],44:[function(t,e,i){var n=t(22),r=t(61),s=/[&<>"']/g,o=RegExp(s.source);e.exports=function(t){return(t=r(t))&&o.test(t)?t.replace(s,n):t}},{22:22,61:61}],45:[function(t,e,i){e.exports=function(t){return t}},{}],46:[function(t,e,i){var n=t(8),r=t(53),s=Object.prototype,o=s.hasOwnProperty,l=s.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return r(t)&&o.call(t,"callee")&&!l.call(t,"callee")};e.exports=u},{53:53,8:8}],47:[function(t,e,i){var n=Array.isArray;e.exports=n},{}],48:[function(t,e,i){var n=t(50),r=t(51);e.exports=function(t){return null!=t&&r(t.length)&&!n(t)}},{50:50,51:51}],49:[function(t,e,i){var n=t(36),r=t(59),s="object"==typeof i&&i&&!i.nodeType&&i,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,l=o&&o.exports===s?n.Buffer:void 0,u=(l?l.isBuffer:void 0)||r;e.exports=u},{36:36,59:59}],50:[function(t,e,i){var n=t(7),r=t(52),s="[object AsyncFunction]",o="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(t){if(!r(t))return!1;var e=n(t);return e==o||e==l||e==s||e==u}},{52:52,7:7}],51:[function(t,e,i){var n=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},{}],52:[function(t,e,i){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],53:[function(t,e,i){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],54:[function(t,e,i){var n=t(7),r=t(47),s=t(53),o="[object String]";e.exports=function(t){return"string"==typeof t||!r(t)&&s(t)&&n(t)==o}},{47:47,53:53,7:7}],55:[function(t,e,i){var n=t(7),r=t(53),s="[object Symbol]";e.exports=function(t){return"symbol"==typeof t||r(t)&&n(t)==s}},{53:53,7:7}],56:[function(t,e,i){var n=t(10),r=t(17),s=t(32),o=s&&s.isTypedArray,l=o?r(o):n;e.exports=l},{10:10,17:17,32:32}],57:[function(t,e,i){var n=t(3),r=t(11),s=t(48);e.exports=function(t){return s(t)?n(t):r(t)}},{11:11,3:3,48:48}],58:[function(t,e,i){var n=t(36);e.exports=function(){return n.Date.now()}},{36:36}],59:[function(t,e,i){e.exports=function(){return!1}},{}],60:[function(t,e,i){var n=t(52),r=t(55),s=NaN,o=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,a=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(r(t))return s;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var i=u.test(t);return i||c.test(t)?a(t.slice(2),i?2:8):l.test(t)?s:+t}},{52:52,55:55}],61:[function(t,e,i){var n=t(16);e.exports=function(t){return null==t?"":n(t)}},{16:16}],62:[function(t,e,i){"use strict";function n(t,e){for(;t&&!u(t,e);)t=t.parentElement;return t||null}function r(t,e){this.el=c(t.template("dropdown",{dropdownCssClass:t.options.dropdownCssClass,searchInputPlaceholder:t.options.searchInputPlaceholder,showSearchInput:e.showSearchInput})),this.resultsContainer=this.$(".selectivity-results-container"),this.hasMore=!1,this.highlightedResult=null,this.loadMoreHighlighted=!1,this.options=e,this.results=[],this.selectivity=t,this._closed=!1,this._lastMousePosition={},this.close=this.close.bind(this),this.position=this.position.bind(this),!1!==t.options.closeOnSelect&&t.events.on("selectivity-selecting",this.close),this.addToDom(),this.showLoading(),e.showSearchInput&&(t.initInput(this.$(".selectivity-search-input")),t.focus());var i={};i["click "+p]=this._loadMoreClicked,i["click "+v]=this._resultClicked,i["mouseenter "+p]=this._loadMoreHovered,i["mouseenter "+v]=this._resultHovered,this.events=new o(this.el,this),this.events.on(i),this._attachScrollListeners(),this._suppressWheel(),setTimeout(this.triggerOpen.bind(this),1)}var s=t(40),o=t(63),l=t(78),u=t(80),c=t(81),a=t(82),h=t(83),d=t(84),f=t(75),p=".selectivity-load-more",v=".selectivity-result-item",g=["scroll","touchend","touchmove"];s(r.prototype,{$:function(t){return this.el.querySelector(t)},addToDom:function(){this.selectivity.el.appendChild(this.el)},close:function(){this._closed||(this._closed=!0,a(this.el),this.selectivity.events.off("selectivity-selecting",this.close),this.triggerClose(),this._removeScrollListeners())},highlight:function(t,e){d(this.$(".highlight"),"highlight",!1),d(this.$(l(v,t.id)),"highlight",!0),this.highlightedResult=t,this.loadMoreHighlighted=!1,this.selectivity.triggerEvent("selectivity-highlight",{item:t,id:t.id,reason:e&&e.reason||"unspecified"})},highlightLoadMore:function(){d(this.$(".highlight"),"highlight",!1),d(this.$(p),"highlight",!0),this.highlightedResult=null,this.loadMoreHighlighted=!0},loadMore:function(){a(this.$(p)),this.resultsContainer.innerHTML+=this.selectivity.template("loading"),this.options.query({callback:function(t){if(!t||!t.results)throw new Error("callback must be passed a response object");this._showResults(f.processItems(t.results),{add:!0,hasMore:!!t.more})}.bind(this),error:this._showResults.bind(this,[],{add:!0}),offset:this.results.length,selectivity:this.selectivity,term:this.term})},position:function(){var t=this.options.position;t&&t(this.el,this.selectivity.el),this._scrolled()},renderItems:function(t){var e=this.selectivity;return t.map(function(t){var i=e.template(t.id?"resultItem":"resultLabel",t);return t.children&&(i+=e.template("resultChildren",{childrenHtml:this.renderItems(t.children)})),i},this).join("")},search:function(t){if(this.term=t,this.options.items){t=f.transformText(t);var e=this.selectivity.options.matcher||f.matcher;this._showResults(this.options.items.map(function(i){return e(i,t)}).filter(function(t){return!!t}),{term:t})}else this.options.query&&this.options.query({callback:function(e){if(!e||!e.results)throw new Error("callback must be passed a response object");this._showResults(f.processItems(e.results),{hasMore:!!e.more,term:t})}.bind(this),error:this.showError.bind(this),offset:0,selectivity:this.selectivity,term:t})},selectHighlight:function(){this.highlightedResult?this.selectItem(this.highlightedResult.id):this.loadMoreHighlighted&&this.loadMore()},selectItem:function(t){var e=f.findNestedById(this.results,t);if(e&&!e.disabled&&!1!==e.selectable){var i={id:t,item:e};this.selectivity.triggerEvent("selectivity-selecting",i)&&this.selectivity.triggerEvent("selectivity-selected",i)}},showError:function(t,e){this.resultsContainer.innerHTML=this.selectivity.template("error",{escape:!e||!1!==e.escape,message:t}),this.hasMore=!1,this.results=[],this.highlightedResult=null,this.loadMoreHighlighted=!1,this.position()},showLoading:function(){this.resultsContainer.innerHTML=this.selectivity.template("loading"),this.hasMore=!1,this.results=[],this.highlightedResult=null,this.loadMoreHighlighted=!1,this.position()},showResults:function(t,e){e.add?a(this.$(".selectivity-loading")):this.resultsContainer.innerHTML="";var i=this.selectivity.filterResults(t),n=this.renderItems(i);e.hasMore?n+=this.selectivity.template("loadMore"):n||e.add||(n=this.selectivity.template("noResults",{term:e.term})),this.resultsContainer.innerHTML+=n,this.results=e.add?this.results.concat(t):t,this.hasMore=e.hasMore;var r=this.selectivity.getValue();if(r&&!Array.isArray(r)){var s=f.findNestedById(t,r);s&&this.highlight(s,{reason:"current_value"})}else!1===this.options.highlightFirstItem||e.add&&!this.loadMoreHighlighted||this._highlightFirstItem(i);this.position()},triggerClose:function(){this.selectivity.triggerEvent("selectivity-close")},triggerOpen:function(){this.selectivity.triggerEvent("selectivity-open")},_attachScrollListeners:function(){for(var t=0;t<g.length;t++)window.addEventListener(g[t],this.position,!0);window.addEventListener("resize",this.position)},_highlightFirstItem:function(t){function e(t){for(var i=0,n=t.length;i<n;i++){var r=t[i];if(r.id)return r;if(r.children){var s=e(r.children);if(s)return s}}}var i=e(t);i?this.highlight(i,{reason:"first_result"}):(this.highlightedResult=null,this.loadMoreHighlighted=!1)},_loadMoreClicked:function(t){this.loadMore(),h(t)},_loadMoreHovered:function(t){void 0!==t.screenX&&t.screenX===this._lastMousePosition.x&&void 0!==t.screenY&&t.screenY===this._lastMousePosition.y||(this.highlightLoadMore(),this._recordMousePosition(t))},_recordMousePosition:function(t){this._lastMousePosition={x:t.screenX,y:t.screenY}},_removeScrollListeners:function(){for(var t=0;t<g.length;t++)window.removeEventListener(g[t],this.position,!0);window.removeEventListener("resize",this.position)},_resultClicked:function(t){this.selectItem(this.selectivity.getRelatedItemId(t)),h(t)},_resultHovered:function(t){if(!t.screenX||t.screenX!==this._lastMousePosition.x||!t.screenY||t.screenY!==this._lastMousePosition.y){var e=this.selectivity.getRelatedItemId(t),i=f.findNestedById(this.results,e);i&&!i.disabled&&this.highlight(i,{reason:"hovered"}),this._recordMousePosition(t)}},_scrolled:function(){var t=this.$(p);t&&t.offsetTop-this.resultsContainer.scrollTop<this.el.clientHeight&&this.loadMore()},_showResults:function(t,e){this.showResults(t,s({dropdown:this},e))},_suppressWheel:function(){var t=this.selectivity.options.suppressWheelSelector;if(null!==t){var e=t||".selectivity-results-container";this.events.on("wheel",e,function(t){function i(){h(t),t.preventDefault()}var r=0===t.deltaMode?t.deltaY:40*t.deltaY,s=n(t.target,e),o=s.clientHeight,l=s.scrollHeight,u=s.scrollTop;l>o&&(r<-u?(s.scrollTop=0,i()):r>l-o-u&&(s.scrollTop=l,i()))})}}}),e.exports=f.Dropdown=r},{40:40,63:63,75:75,78:78,80:80,81:81,82:82,83:83,84:84}],63:[function(t,e,i){"use strict";function n(t,e){this.context=e||null,this.el=t,this.events={},this._onEvent=this._onEvent.bind(this)}var r=t(40),s=t(54),o=t(80),l=["blur","focus","mouseenter","mouseleave","scroll"];r(n.prototype,{destruct:function(){Object.keys(this.events).forEach(function(t){var e=l.indexOf(t)>-1;this.el.removeEventListener(t,this._onEvent,e)},this),this.context=null,this.el=null,this.events=null},off:function(t,e,i){if(s(e)||(i=e,e=""),i){var n=this.events[t];if(n&&(n=n[e]))for(var r=0;r<n.length;r++)n[r]===i&&(n.splice(r,1),r--)}else this.events[t][e]=[]},on:function(t,e,i){if(s(t)){if(s(e)||(i=e,e=""),!this.events.hasOwnProperty(t)){var n=l.indexOf(t)>-1;this.el.addEventListener(t,this._onEvent,n),this.events[t]={}}this.events[t].hasOwnProperty(e)||(this.events[t][e]=[]),this.events[t][e].indexOf(i)<0&&this.events[t][e].push(i)}else{var r=t;for(var o in r)if(r.hasOwnProperty(o)){var u=o.split(" ");u.length>1?this.on(u[0],u[1],r[o]):this.on(u[0],r[o])}}},_onEvent:function(t){function e(e){for(var i=0;i<e.length;i++)e[i].call(r,t)}var i=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),i=!0};for(var r=this.context,s=t.target,l=this.events[t.type.toLowerCase()];s&&s!==this.el&&!i;){for(var u in l)u&&l.hasOwnProperty(u)&&o(s,u)&&e(l[u]);s=s.parentElement}!i&&l.hasOwnProperty("")&&e(l[""])}}),e.exports=n},{40:40,54:54,80:80}],64:[function(t,e,i){"use strict";function n(t){var e=t.indexOf("@");if(-1===e||t.indexOf(" ")>-1)return!1;var i=t.lastIndexOf(".");return-1===i?e<t.length-2:!(i>e)||i<t.length-2}function r(t,e){for(var i=(e=void 0===e?t.length:e)-1;i>=0;i--)if(/\s/.test(t[i]))return t.slice(i+1,e);return t.slice(0,e)}function s(t,e){return t.charAt(0)===e[0]&&t.slice(-1)===e[1]?t.slice(1,-1).trim():t.trim()}function o(t){var e=r(t),i=t.slice(0,-e.length).trim();return n(e)?(e=s(s(e,"()"),"<>"),i=s(i,'""').trim()||e,{id:e,text:i}):t.trim()?{id:t,text:t}:null}function l(t,e,i){for(;function(t){if(t)for(var e=0,i=t.length;e<i;e++)switch(t[e]){case";":case",":case"\n":return!0;case" ":case"\t":if(n(r(t,e)))return!0;break;case'"':do{e++}while(e<i&&'"'!==t[e]);break;default:continue}return!1}(t);){var s=function(t){for(var e=0,i=t.length;e<i;e++)switch(t[e]){case";":case",":case"\n":return{term:t.slice(0,e),input:t.slice(e+1)};case" ":case"\t":if(n(r(t,e)))return{term:t.slice(0,e),input:t.slice(e+1)};break;case'"':do{e++}while(e<i&&'"'!==t[e]);break;default:continue}return{}}(t);if(s.term){var l=o(s.term);!l||l.id&&h.findById(e,l.id)||i(l)}t=s.input}return t}function u(t){a.call(this,c({createTokenItem:o,showDropdown:!1,tokenizer:l},t)),this.events.on("blur",function(){var t=this.input;t&&n(r(t.value))&&this.add(o(t.value))})}var c=t(40),a=t(65),h=t(75);h.inherits(u,a),e.exports=h.Inputs.Email=u},{40:40,65:65,75:75}],65:[function(t,e,i){"use strict";function n(t){o.call(this,r({positionDropdown:function(t,e){var i=e.getBoundingClientRect(),n=t.clientHeight,s=i.bottom+n>window.innerHeight&&i.top-n>0;r(t.style,{left:i.left+"px",top:(s?i.top-n:i.bottom)+"px",width:i.width+"px"})},showSearchInputInDropdown:!1},t)),this._reset();var e={change:this.rerenderSelection,click:this._clicked,"selectivity-selected":this._resultSelected};e["change "+f]=h,e["click "+p]=this._itemClicked,e["click "+p+"-remove"]=this._itemRemoveClicked,e["keydown "+f]=this._keyHeld,e["keyup "+f]=this._keyReleased,e["paste "+f]=this._onPaste,this.events.on(e)}var r=t(40),s=t(54),o=t(75),l=t(78),u=t(79),c=t(81),a=t(82),h=t(83),d=t(84),f=".selectivity-multiple-input",p=".selectivity-multiple-selected-item",v="ontouchstart"in window,g=o.inherits(n,o,{add:function(t){var e=o.isValidId(t),i=e?t:this.validateItem(t)&&t.id;-1===this._value.indexOf(i)&&(this._value.push(i),e&&this.options.initSelection?this.options.initSelection([i],function(e){this._value.indexOf(i)>-1&&(t=this.validateItem(e[0]),this._data.push(t),this.triggerChange({added:t}))}.bind(this)):(e&&(t=this.getItemForId(i)),this._data.push(t),this.triggerChange({added:t}))),this.input.value="",this._updateInputWidth()},clear:function(){this.setData([])},filterResults:function(t){return(t=t.map(function(t){var e={id:t.id,text:t.text};return t.children&&(e.children=this.filterResults(t.children)),e},this)).filter(function(t){return!o.findById(this._data,t.id)},this)},getDataForValue:function(t){return t.map(this.getItemForId,this).filter(function(t){return!!t})},getValueForData:function(t){return t.map(function(t){return t.id})},remove:function(t){var e,i=t.id||t,n=o.findIndexById(this._data,i);n>-1&&(e=this._data[n],this._data.splice(n,1)),this._value[n]!==i&&(n=this._value.indexOf(i)),n>-1&&this._value.splice(n,1),e&&this.triggerChange({removed:e}),i===this._highlightedItemId&&(this._highlightedItemId=null),this._updateInputWidth()},rerenderSelection:function(t){(t=t||{}).added?(this._renderSelectedItem(t.added),this._scrollToBottom()):t.removed?a(this.$(l(p,t.removed.id))):(this._forEachSelectedItem(a),this._data.forEach(this._renderSelectedItem,this),this._updateInputWidth()),(t.added||t.removed)&&(this.dropdown&&this.dropdown.showResults(this.filterResults(this.dropdown.results),{hasMore:this.dropdown.hasMore}),v||this.focus()),this.positionDropdown(),this._updatePlaceholder()},search:function(t){this.options.tokenizer&&(t=this.options.tokenizer(t,this._data,this.add.bind(this),this.options),s(t)&&t!==this.input.value&&(this.input.value=t)),this._updateInputWidth(),this.dropdown&&g(this,"search",t)},setOptions:function(t){var e=this.enabled;g(this,"setOptions",t),e!==this.enabled&&this._reset()},validateData:function(t){if(null===t)return[];if(Array.isArray(t))return t.map(this.validateItem,this);throw new Error("Data for MultiSelectivity instance should be an array")},validateValue:function(t){if(null===t)return[];if(Array.isArray(t)){if(t.every(o.isValidId))return t;throw new Error("Value contains invalid IDs")}throw new Error("Value for MultiSelectivity instance should be an array")},_backspacePressed:function(){this.options.backspaceHighlightsBeforeDelete?this._highlightedItemId?this._deletePressed():this._value.length&&this._highlightItem(this._value.slice(-1)[0]):this._value.length&&this.remove(this._value.slice(-1)[0])},_clicked:function(t){this.enabled&&(!1!==this.options.showDropdown?this.open():this.focus(),h(t))},_createToken:function(){var t=this.input.value,e=this.options.createTokenItem;if(t&&e){var i=e(t);i&&this.add(i)}},_deletePressed:function(){this._highlightedItemId&&this.remove(this._highlightedItemId)},_forEachSelectedItem:function(t){Array.prototype.forEach.call(this.el.querySelectorAll(p),t)},_highlightItem:function(t){this._highlightedItemId=t,this._forEachSelectedItem(function(e){d(e,"highlighted",e.getAttribute("data-item-id")===t)}),v||this.focus()},_itemClicked:function(t){this.enabled&&this._highlightItem(this.getRelatedItemId(t))},_itemRemoveClicked:function(t){this.remove(this.getRelatedItemId(t)),h(t)},_keyHeld:function(t){this._originalValue=this.input.value,13!==u(t)||t.ctrlKey||t.preventDefault()},_keyReleased:function(t){var e=!!this._originalValue,i=u(t);13!==i||t.ctrlKey?8!==i||e?46!==i||e||this._deletePressed():this._backspacePressed():this._createToken()},_onPaste:function(){setTimeout(function(){this.search(this.input.value),this._createToken()}.bind(this),10)},_renderSelectedItem:function(t){var e=c(this.template("multipleSelectedItem",r({highlighted:t.id===this._highlightedItemId,removable:!this.options.readOnly},t)));this.input.parentNode.insertBefore(e,this.input)},_reset:function(){this.el.innerHTML=this.template("multipleSelectInput",{enabled:this.enabled}),this._highlightedItemId=null,this.initInput(this.$(f)),this.rerenderSelection()},_resultSelected:function(t){-1===this._value.indexOf(t.id)?this.add(t.item):this.remove(t.item)},_scrollToBottom:function(){var t=this.$(f+"-container");t.scrollTop=t.clientHeight},_updateInputWidth:function(){if(this.enabled){var t=this.input.value||!this._data.length&&this.options.placeholder||"";this.input.setAttribute("size",t.length+2),this.positionDropdown()}},_updatePlaceholder:function(){var t=!this._data.length&&this.options.placeholder||"";this.enabled?this.input.setAttribute("placeholder",t):this.$(".selectivity-placeholder").textContent=t}});e.exports=o.Inputs.Multiple=n},{40:40,54:54,75:75,78:78,79:79,81:81,82:82,83:83,84:84}],66:[function(t,e,i){"use strict";function n(t){s.call(this,r({positionDropdown:function(t,e){var i=e.getBoundingClientRect(),n=i.bottom,s=Math.min(Math.max(n+t.clientHeight-window.innerHeight,0),i.top+i.height);r(t.style,{left:i.left+"px",top:n-s+"px",width:i.width+"px"})}},t)),this.rerender(),!1===t.showSearchInputInDropdown&&this.initInput(this.$(".selectivity-single-select-input"),{search:!1}),this.events.on({change:this.rerenderSelection,click:this._clicked,"click .selectivity-search-input":o,"click .selectivity-single-selected-item-remove":this._itemRemoveClicked,"focus .selectivity-single-select-input":this._focused,"selectivity-selected":this._resultSelected})}var r=t(40),s=t(75),o=t(83),l=s.inherits(n,s,{clear:function(){this.setData(null)},close:function(t){this._closing=!0,l(this,"close"),t&&t.keepFocus&&this.input&&this.input.focus(),this._closing=!1},getDataForValue:function(t){return this.getItemForId(t)},getValueForData:function(t){return t?t.id:null},rerender:function(){this.el.innerHTML=this.template("singleSelectInput",this.options),this.rerenderSelection()},rerenderSelection:function(){var t=this._data?"singleSelectedItem":"singleSelectPlaceholder",e=this._data?r({removable:this.options.allowClear&&!this.options.readOnly},this._data):{placeholder:this.options.placeholder};this.el.querySelector("input").value=this._value,this.$(".selectivity-single-result-container").innerHTML=this.template(t,e)},setOptions:function(t){var e=this.enabled;l(this,"setOptions",t),e!==this.enabled&&this.rerender()},validateData:function(t){return null===t?t:this.validateItem(t)},validateValue:function(t){if(null===t||s.isValidId(t))return t;throw new Error("Value for SingleSelectivity instance should be a valid ID or null")},_clicked:function(){this.enabled&&(this.dropdown?this.close({keepFocus:!0}):!1!==this.options.showDropdown&&this.open())},_focused:function(){!this.enabled||this._closing||this._opening||!1===this.options.showDropdown||this.open()},_itemRemoveClicked:function(t){this.setData(null),o(t)},_resultSelected:function(t){this.setData(t.item),this.close({keepFocus:!0})}});e.exports=s.Inputs.Single=n},{40:40,75:75,83:83}],67:[function(t,e,i){"use strict";var n=t(44),r=t(75);e.exports=r.Locale={loading:"Loading...",loadMore:"Load more...",noResults:"No results found",ajaxError:function(t){return t?"Failed to fetch results for <b>"+n(t)+"</b>":"Failed to fetch results"},needMoreCharacters:function(t){return"Enter "+t+" more characters to search"},noResultsForTerm:function(t){return"No results for <b>"+n(t)+"</b>"}}},{44:44,75:75}],68:[function(t,e,i){"use strict";function n(t,e,i){return t+(t.indexOf("?")>-1?"&":"?")+e+"="+encodeURIComponent(i)}function r(t,e){var i={};return e.forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i}function s(t,e){var i=t.fetch||window.fetch,s=e.term,o="function"==typeof t.url?t.url(e):t.url;if(t.params){var l=t.params(s,e.offset||0);for(var c in l)l.hasOwnProperty(c)&&(o=n(o,c,l[c]))}i(o,r(t,["body","cache","credentials","headers","integrity","method","mode","redirect","referrer","referrerPolicy"]),e).then(function(t){if(t.ok)return t.json();if(Array.isArray(t)||t.results)return t;throw new Error("Unexpected AJAX response")}).then(function(t){Array.isArray(t)?e.callback({results:t,more:!1}):e.callback({results:t.results,more:!!t.more})}).catch(function(i){var n=t.formatError||u.ajaxError;e.error(n(s,i),{escape:!1})})}var o=t(42),l=t(75),u=t(67);l.OptionListeners.unshift(function(t,e){var i=e.ajax;if(i&&i.url){var n=i.quietMillis?o(s,i.quietMillis):s;e.query=function(t){var e=i.minimumInputLength-t.term.length;e>0?t.error(u.needMoreCharacters(e)):n(i,t)}}})},{42:42,67:67,75:75}],69:[function(t,e,i){"use strict";var n=0;t(75).OptionListeners.push(function(t,e){var i=e.query;i&&!i._async&&(e.query=function(t){var e=++n,r=t.callback,s=t.error;t.callback=function(){e===n&&r.apply(null,arguments)},t.error=function(){e===n&&s.apply(null,arguments)},i(t)},e.query._async=!0)})},{75:75}],70:[function(t,e,i){"use strict";var n={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"},r=t(75),s=r.transformText;r.transformText=function(t){for(var e="",i=0,r=t.length;i<r;i++){var o=t[i];e+=n[o]||o}return s(e)}},{75:75}],71:[function(t,e,i){"use strict";var n=t(75),r=t(77),s=t(79),o=8,l=40,u=13,c=27,a=9,h=38;n.InputListeners.push(function(t,e){function i(e,s){function o(){var t;e.highlightedResult?t=r(u,e.highlightedResult.id):e.loadMoreHighlighted&&(t=e.$(".selectivity-load-more")),t&&t.scrollIntoView&&t.scrollIntoView(s<0)}var l=e.results;if(l.length){var u=[].slice.call(e.el.querySelectorAll(".selectivity-result-item"));if(e.submenu)i(e.submenu,s);else{var c=s>0?0:u.length-1,a=c,h=e.highlightedResult;if(h){var d=r(u,h.id);if(a=u.indexOf(d)+s,s>0?a>=u.length:a<0){if(e.hasMore)return e.highlightLoadMore(),void o();a=c}}var f=u[a],p=n.findNestedById(l,t.getRelatedItemId(f));p&&(e.highlight(p,{delay:!!p.submenu}),o())}}}var d=!1,f=null;e.addEventListener("keydown",function(n){var r=t.dropdown;if(r){var c=s(n);if(c===o){if(!e.value){if(r.submenu){for(var p=r.submenu;p.submenu;)p=p.submenu;f=p}n.preventDefault(),d=!0}}else c===l?i(r,1):c===h?i(r,-1):c===a?setTimeout(function(){t.close()},1):c===u&&n.preventDefault()}}),e.addEventListener("keyup",function(e){function i(){!1!==t.options.showDropdown&&t.open()}var n=t.dropdown,r=s(e);d?(e.preventDefault(),d=!1,f&&(f.close(),t.focus(),f=null)):r===o?!n&&t.options.allowClear&&t.clear():r!==u||e.ctrlKey?r===c?(t.close(),e.preventDefault()):r===l||r===h?(i(),e.preventDefault()):i():(n?n.selectHighlight():!1!==t.options.showDropdown&&i(),e.preventDefault())})})},{75:75,77:77,79:79}],72:[function(t,e,i){"use strict";function n(t,e){this.parentMenu=e.parentMenu,r.call(this,t,e),this._closeSubmenuTimeout=0,this._openSubmenuTimeout=0}var r=t(62),s=t(75),o=t(77),l=s.inherits(n,r,{close:function(){this.submenu&&this.submenu.close(),l(this,"close"),this.parentMenu&&(this.parentMenu.submenu=null,this.parentMenu=null),clearTimeout(this._closeSubmenuTimeout),clearTimeout(this._openSubmenuTimeout)},highlight:function(t,e){var i=(e=e||{}).reason||"unspecified";e.delay?(l(this,"highlight",t),clearTimeout(this._openSubmenuTimeout),this._openSubmenuTimeout=setTimeout(this._doHighlight.bind(this,t,i),300)):this.submenu?this.highlightedResult&&this.highlightedResult.id===t.id?this._doHighlight(t,i):(clearTimeout(this._closeSubmenuTimeout),this._closeSubmenuTimeout=setTimeout(this._closeSubmenuAndHighlight.bind(this,t,i),100)):(this.parentMenu&&this.parentMenu._closeSubmenuTimeout&&(clearTimeout(this.parentMenu._closeSubmenuTimeout),this.parentMenu._closeSubmenuTimeout=0),!1===e.openSubmenu?l(this,"highlight",t):this._doHighlight(t,i))},search:function(t){if(this.submenu){var e=this.$(".selectivity-search-input");if(!e||e!==document.activeElement)return void this.submenu.search(t);this.submenu.close()}l(this,"search",t)},selectHighlight:function(){this.submenu?this.submenu.selectHighlight():l(this,"selectHighlight")},showResults:function(t,e){function i(t){t.children&&t.children.forEach(i),t.submenu&&(t.selectable=!!t.selectable)}this.submenu&&e.dropdown!==this?this.submenu.showResults(t,e):(t.forEach(i),l(this,"showResults",t,e))},triggerClose:function(){this.parentMenu?this.selectivity.triggerEvent("selectivity-close-submenu"):l(this,"triggerClose")},triggerOpen:function(){this.parentMenu?this.selectivity.triggerEvent("selectivity-open-submenu"):l(this,"triggerOpen")},_closeSubmenuAndHighlight:function(t,e){this.submenu&&this.submenu.close(),this._doHighlight(t,e)},_doHighlight:function(t,e){l(this,"highlight",t);var i=this.selectivity.options;if(!(!t.submenu||this.submenu||i.shouldOpenSubmenu&&!1===i.shouldOpenSubmenu(t,e))){var n=i.dropdown||s.Dropdown;if(n){var r=this.el.querySelectorAll(".selectivity-result-item"),u=o(r,t.id),c=this.el;this.submenu=new n(this.selectivity,{highlightFirstItem:!t.selectable,items:t.submenu.items||null,parentMenu:this,position:function(e,i){if(t.submenu.positionDropdown)t.submenu.positionDropdown(e,i,u,c);else{var n=c.getBoundingClientRect(),r=n.right,s=n.width;r+s>document.body.clientWidth&&n.left-s>0&&(r=n.left-s+10);var o=u.getBoundingClientRect().top,l=Math.min(Math.max(o+e.clientHeight-window.innerHeight,0),n.top+n.height);e.style.left=r+"px",e.style.top=o-l+"px",e.style.width=s+"px"}},query:t.submenu.query||null,showSearchInput:t.submenu.showSearchInput}),this.submenu.search("")}}}});s.Dropdown=n,e.exports=n},{62:62,75:75,77:77}],73:[function(t,e,i){"use strict";function n(t,e,i,n){for(var r=n.createTokenItem||function(t){return t?{id:t,text:t}:null},o=n.tokenSeparators;function(t){return!!t&&o.some(function(e){return t.indexOf(e)>-1})}(t);){var l=function(t){for(var e=0,i=t.length;e<i;e++)if(o.indexOf(t[e])>-1)return{term:t.slice(0,e),input:t.slice(e+1)};return{}}(t);if(l.term){var u=r(l.term);u&&!s.findById(e,u.id)&&i(u)}t=l.input}return t}var r=t(40),s=t(75);s.OptionListeners.push(function(t,e){e.tokenSeparators&&(e.allowedTypes=r({tokenSeparators:"array"},e.allowedTypes),e.tokenizer=e.tokenizer||n)})},{40:40,75:75}],74:[function(t,e,i){t(62),t(64),t(65),t(66),t(67),t(68),t(69),t(70),t(71),t(72),t(73),t(76),window.Selectivity=t(75)},{62:62,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,75:75,76:76}],75:[function(t,e,i){"use strict";function n(t){this.dropdown=null,this.el=t.element,this.enabled=!t.readOnly&&!t.removeOnly,this.input=null,this.items=null,this.options={},this.templates=r({},n.Templates),this.term="",this.setOptions(t),t.value?this.setValue(t.value,{triggerChange:!1}):this.setData(t.data||null,{triggerChange:!1}),this.el.setAttribute("tabindex",t.tabIndex||0),this.events=new o(this.el,this),this.events.on({blur:this._blur,mouseenter:this._mouseenter,mouseleave:this._mouseleave,"selectivity-close":this._closed})}var r=t(40),s=t(54),o=t(63),l=t(84);r(n.prototype,{$:function(t){return this.el.querySelector(t)},close:function(){this._clearCloseTimeout(),this.dropdown&&(this.dropdown.close(),this.dropdown=null)},destroy:function(){this.events.destruct();for(var t=this.el;t.firstChild;)t.removeChild(t.firstChild);t.selectivity=null},filterResults:function(t){return t},focus:function(){this._clearCloseTimeout(),this._focusing=!0,this.input&&this.input.focus(),this._focusing=!1},getData:function(){return this._data},getItemForId:function(t){var e=this.items;return e?n.findNestedById(e,t):null===t?null:{id:t,text:""+t}},getRelatedItemId:function(t){for(var e=t.target||t;e&&!e.hasAttribute("data-item-id");)e=e.parentNode;if(!e)return null;var i=e.getAttribute("data-item-id");if(n.findById(this._data||[],i))return i;for(var r=this.dropdown;r;){if(n.findNestedById(r.results,i))return i;r=r.submenu}var s=parseInt(i,10);return""+s===i?s:i},getValue:function(){return this._value},initInput:function(t,e){this.input=t;var i=this;(this.options.inputListeners||n.InputListeners).forEach(function(n){n(i,t,e)}),e&&!1===e.search||t.addEventListener("keyup",function(t){t.defaultPrevented||i.search(t.target.value)})},open:function(){if(!this._opening&&!this.dropdown&&this.triggerEvent("selectivity-opening")){this._opening=!0;var t=this.options.dropdown||n.Dropdown;t&&(this.dropdown=new t(this,{items:this.items,position:this.options.positionDropdown,query:this.options.query,showSearchInput:!1!==this.options.showSearchInputInDropdown})),this.search(""),this.focus(),l(this.el,"open",!0),this._opening=!1}},positionDropdown:function(){this.dropdown&&this.dropdown.position()},search:function(t){this.open(),this.dropdown&&this.dropdown.search(t)},setData:function(t,e){e=e||{},t=this.validateData(t),this._data=t,this._value=this.getValueForData(t),!1!==e.triggerChange&&this.triggerChange()},setOptions:function(t){t=t||{};var e=this;n.OptionListeners.forEach(function(i){i(e,t)}),"items"in t&&(this.items=t.items?n.processItems(t.items):null),"templates"in t&&r(this.templates,t.templates),r(this.options,t),this.enabled=!this.options.readOnly&&!this.options.removeOnly},setValue:function(t,e){e=e||{},t=this.validateValue(t),this._value=t,this.options.initSelection?this.options.initSelection(t,function(i){this._value===t&&(this._data=this.validateData(i),!1!==e.triggerChange&&this.triggerChange())}.bind(this)):(this._data=this.getDataForValue(t),!1!==e.triggerChange&&this.triggerChange())},template:function(t,e){var i=this.templates[t];if(!i)throw new Error("Unknown template: "+t);if("function"==typeof i){var n=i(e);return"string"==typeof n?n.trim():n}return i.render?i.render(e).trim():i.toString().trim()},triggerChange:function(t){var e=r({data:this._data,value:this._value},t);this.triggerEvent("change",e),this.triggerEvent("selectivity-change",e)},triggerEvent:function(t,e){var i=document.createEvent("Event");return i.initEvent(t,!1,!0),r(i,e),this.el.dispatchEvent(i),!i.defaultPrevented},validateItem:function(t){if(t&&n.isValidId(t.id)&&s(t.text))return t;throw new Error("Item should have id (number or string) and text (string) properties")},_blur:function(){this._focusing||this.el.classList.contains("hover")||(this._clearCloseTimeout(),this._closeTimeout=setTimeout(this.close.bind(this),166))},_clearCloseTimeout:function(){this._closeTimeout&&(clearTimeout(this._closeTimeout),this._closeTimeout=0)},_closed:function(){this.dropdown=null,l(this.el,"open",!1)},_mouseleave:function(t){this.el.contains(t.relatedTarget)||l(this.el,"hover",!1)},_mouseenter:function(){l(this.el,"hover",!0)}}),n.Dropdown=null,n.InputListeners=[],n.Inputs={},n.OptionListeners=[],n.Templates={},n.findById=function(t,e){var i=n.findIndexById(t,e);return i>-1?t[i]:null},n.findIndexById=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1},n.findNestedById=function(t,e){for(var i=0,r=t.length;i<r;i++){var s,o=t[i];if(o.id===e?s=o:o.children?s=n.findNestedById(o.children,e):o.submenu&&o.submenu.items&&(s=n.findNestedById(o.submenu.items,e)),s)return s}return null},n.inherits=function(t,e,i){return t.prototype=r(Object.create(e.prototype),{constructor:t},i),function(t,i){e.prototype[i].apply(t,Array.prototype.slice.call(arguments,2))}},n.isValidId=function(t){return"number"==typeof t||s(t)},n.matcher=function(t,e){var i=null;if(n.transformText(t.text).indexOf(e)>-1)i=t;else if(t.children){var r=t.children.map(function(t){return n.matcher(t,e)}).filter(function(t){return!!t});r.length&&(i={id:t.id,text:t.text,children:r})}return i},n.processItem=function(t){if(n.isValidId(t))return{id:t,text:""+t};if(t&&(n.isValidId(t.id)||t.children)&&s(t.text))return t.children&&(t.children=n.processItems(t.children)),t;throw new Error("invalid item")},n.processItems=function(t){if(Array.isArray(t))return t.map(n.processItem);throw new Error("invalid items")},n.transformText=function(t){return t.toLowerCase()},e.exports=n},{40:40,54:54,63:63,84:84}],76:[function(t,e,i){"use strict";var n=t(44),r=t(75),s=t(67);r.Templates={dropdown:function(t){var e=t.dropdownCssClass?" "+t.dropdownCssClass:"",i="";if(t.showSearchInput){e+=" has-search-input";var r=t.searchInputPlaceholder;i='<div class="selectivity-search-input-container"><input type="text" class="selectivity-search-input"'+(r?' placeholder="'+n(r)+'"':"")+"></div>"}return'<div class="selectivity-dropdown'+e+'">'+i+'<div class="selectivity-results-container"></div></div>'},error:function(t){return'<div class="selectivity-error">'+(t.escape?n(t.message):t.message)+"</div>"},loading:function(){return'<div class="selectivity-loading">'+s.loading+"</div>"},loadMore:function(){return'<div class="selectivity-load-more">'+s.loadMore+"</div>"},multipleSelectInput:function(t){return'<div class="selectivity-multiple-input-container">'+(t.enabled?'<input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" class="selectivity-multiple-input">':'<div class="selectivity-multiple-input selectivity-placeholder"></div>')+'<div class="selectivity-clearfix"></div></div>'},multipleSelectedItem:function(t){return'<span class="selectivity-multiple-selected-item'+(t.highlighted?" highlighted":"")+'" data-item-id="'+n(t.id)+'">'+(t.removable?'<a class="selectivity-multiple-selected-item-remove"><i class="fa fa-remove"></i></a>':"")+n(t.text)+"</span>"},noResults:function(t){return'<div class="selectivity-error">'+(t.term?s.noResultsForTerm(t.term):s.noResults)+"</div>"},resultChildren:function(t){return'<div class="selectivity-result-children">'+t.childrenHtml+"</div>"},resultItem:function(t){return'<div class="selectivity-result-item'+(t.disabled?" disabled":"")+'" data-item-id="'+n(t.id)+'">'+n(t.text)+(t.submenu?'<i class="selectivity-submenu-icon fa fa-chevron-right"></i>':"")+"</div>"},resultLabel:function(t){return'<div class="selectivity-result-label">'+n(t.text)+"</div>"},singleSelectInput:function(t){return'<div class="selectivity-single-select"><input type="text" class="selectivity-single-select-input"'+(t.required?" required":"")+'><div class="selectivity-single-result-container"></div><i class="fa fa-sort-desc selectivity-caret"></i></div>'},singleSelectPlaceholder:function(t){return'<div class="selectivity-placeholder">'+n(t.placeholder)+"</div>"},singleSelectedItem:function(t){return'<span class="selectivity-single-selected-item" data-item-id="'+n(t.id)+'">'+(t.removable?'<a class="selectivity-single-selected-item-remove"><i class="fa fa-remove"></i></a>':"")+n(t.text)+"</span>"},selectCompliance:function(t){var e=t.mode,i=t.name;return"multiple"===e&&"[]"!==i.slice(-2)&&(i+="[]"),'<select name="'+i+'"'+("multiple"===e?" multiple":"")+"></select>"},selectOptionCompliance:function(t){return'<option value="'+n(t.id)+'" selected>'+n(t.text)+"</option>"}}},{44:44,67:67,75:75}],77:[function(t,e,i){"use strict";e.exports=function(t,e){for(var i=0,n=t.length;i<n;i++){var r=t[i],s=r.getAttribute("data-item-id");if(("number"==typeof e?parseInt(s,10):s)===e)return r}return null}},{}],78:[function(t,e,i){"use strict";e.exports=function(t,e){return t+"[data-item-id="+('"'+(""+e).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"')+"]"}},{}],79:[function(t,e,i){"use strict";e.exports=function(t){return t.which||t.keyCode||0}},{}],80:[function(t,e,i){"use strict";e.exports=function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).call(t,e)}},{}],81:[function(t,e,i){"use strict";e.exports=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}},{}],82:[function(t,e,i){"use strict";e.exports=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}},{}],83:[function(t,e,i){"use strict";e.exports=function(t){t.stopPropagation()}},{}],84:[function(t,e,i){"use strict";e.exports=function(t,e,i){t&&t.classList[i?"add":"remove"](e)}},{}]},{},[74])(74)});